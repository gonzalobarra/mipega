{% extends 'template.html' %}
{% block title %} Registro de usuario | MiPega.cl {% endblock %}
{% block contenido %}

<!--<div id="content">
    <div id="wrapper">--> 
        {% load bootstrap_toolkit %}
        <!--
        <form id="formElem" name="formElem" action="" method="post">-->
        <div id="registro" class="section">
          <div class="bs-callout bs-callout-info" style="margin:3% auto; width:85%;">
            <h3>¡Atención!</h3>
            <p>Mipega es un sitio de búsqueda de trabajo, el cual posee como objetivo  que nuestros socios reciban ofertas laborales de diversas empresas, permitiendo así, a sus participantes, tener un mayor abanico de posibilidades. Para ser visible en nuestro buscador el usuario, deberá cancelar una módica suma de dinero, lo que le permitirá en todo momento modificar su información e inclusive cancelar su subscripción. 
            <strong>Recuerda que una vez registrado, debes pagar tu suscripción para poder aparecer en las busquedas de empresas y agregar los cargos nuevos que ingresaste al sistema.</strong></p>
        </div>
            <div class="container">
                <div class="row">
                    <div class="col-sm-12 panel panel-default">
                        <div class="panel-body">
                          
                            <form id="myWizard" type="post" method="post" action="{% url 'vista_registro' %}" class="form-horizontal">
                                {% csrf_token %}
                                    {% include "include_templates/registro/step1_perfil.html" %}
                                    
                                    {% include "include_templates/registro/step2_aspiraciones.html" %}

                                    {% include "include_templates/registro/step3_estudios.html" %}
                                    
                                    {% include "include_templates/registro/step4_experiencia.html" %}

                                    {% include "include_templates/registro/step5_otras.html" %}
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>            
            
{% endblock %}
{% block SCRIPT %}
    <script type="text/javascript" src="{{STATIC_URL}}js/vendor/jquery.easyWizard.js"></script>
    <script>
    $(document).ready(function(){
      
        $(".next").attr("disabled", "disabled");

        $("#id_username").change(function(e){

          if( Rut($("#id_username").val()) ){                       
            $(".next").removeAttr("disabled");  

            if( $("#id_password").val()=="" )
              $(".next").attr("disabled", "disabled"); 
            else
              $(".next").removeAttr("disabled");  

            if( $("#id_ClaveRepetida").val()=="" )
              $(".next").attr("disabled", "disabled"); 
            else
              $(".next").removeAttr("disabled");

            if( $("#id_email").val()=="" )
              $(".next").attr("disabled", "disabled");
            else
              $(".next").removeAttr("disabled");      
             
          } else {
            $(".next").attr("disabled", "disabled");
          }
        });

        $("#id_password").change(function(){

          if( $("#id_password").val()=="" )
            $(".next").attr("disabled", "disabled");
          else
            $(".next").removeAttr("disabled");

          if( $("#id_ClaveRepetida").val()=="" )
              $(".next").attr("disabled", "disabled"); 
            else
              $(".next").removeAttr("disabled");

          if( $("#id_email").val()=="" )
            $(".next").attr("disabled", "disabled");
          else
            $(".next").removeAttr("disabled"); 
        });

        $("#id_ClaveRepetida").change(function(){

          if( $("#id_password").val()=="" )
            $(".next").attr("disabled", "disabled");
          else
            $(".next").removeAttr("disabled");

          if( $("#id_ClaveRepetida").val()=="" )
              $(".next").attr("disabled", "disabled"); 
            else
              $(".next").removeAttr("disabled");

          if( $("#id_email").val()=="" )
            $(".next").attr("disabled", "disabled");
          else
            $(".next").removeAttr("disabled");
        });

        $("#id_email").change(function(){

          if( $("#id_password").val()=="" )
            $(".next").attr("disabled", "disabled");
          else
            $(".next").removeAttr("disabled");

          if( $("#id_ClaveRepetida").val()=="" )
              $(".next").attr("disabled", "disabled"); 
            else
              $(".next").removeAttr("disabled");

          if( $("#id_email").val()=="" )
            $(".next").attr("disabled", "disabled");
          else
            $(".next").removeAttr("disabled");
        });

        //Muestra mas estudios
        $("#mas_titulos").click(function(){
          if( !$("#estudio2").is(":visible") ){
            $("#estudio2").show("slow");            
            $(this).hide();
          }
        });
        
        //Muestra mas experiencias
        $("#mas_experiencias").click(function(){
          if( !$(".experiencia2").is(":visible") ){
            $(".experiencia2").show("slow");
          }else if( !$(".experiencia3").is(":visible") ){
            $(".experiencia3").show("slow");
            $(this).hide();
          }
        });

        //Muestra mas habilidades
        $("#mas_habilidades").click(function(){
          if( !$("#habilidades2").is(":visible") ){
            $("#habilidades2").show("slow");
          }else if( !$("#habilidades3").is(":visible") ){
            $("#habilidades3").show("slow");
            $(this).hide();
          }
        });
      
    });
     $('a.hash').bind('click', function(e) {
                   e.preventDefault();
                   $('html, body').animate({ scrollTop: $(this.hash).offset().top - 45}, 700);
                });

            //$('#navbar').waypoint('sticky');

            
            $('#myWizard').easyWizard({
                submitButtonClass: 'btn btn-success',
                prevButton: 'Atrás',
                nextButton: 'Siguiente',
                submitButtonText: 'Enviar'
            });
    </script> 

{% endblock %}
